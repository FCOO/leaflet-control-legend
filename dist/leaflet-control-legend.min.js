!function(a,b,c,d,e){"use strict";b.Control.Legend=b.Control.extend({options:{VERSION:"1.0.2",position:"bottomleft",language:"en",timezone:"local",collapsedInfo:null},legendOptions:{},initialize:function(a){if(b.Util.setOptions(this,a),this._map=null,null===this.options.collapsedInfo&&(this.options.collapsedInfo=!0,"undefined"!=typeof c.matchMedia||"undefined"!=typeof c.msMatchMedia)){var d=c.matchMedia("screen and (orientation: landscape) and (min-width: 641px) and (min-height: 481px), screen and (orientation: portrait) and (min-width: 481px) and (min-height: 641px)");d.matches&&(this.options.collapsedInfo=!1)}this._container=b.DomUtil.create("div","fcoo-legend-container"),this._container.style.display="none",this._legendCounter=0},onAdd:function(a){var b=this;return a.on("timezonechange",function(a){b.options.timezone=a.timezone,b._redrawLegend()}),this._container},addLegend:function(a){var b=this._legendCounter++;return this.legendOptions[b]=a,this._redrawLegend(),this._container.style.display="block",b},removeLegend:function(b){"undefined"!=typeof this.legendOptions[b]&&delete this.legendOptions[b],a.isEmptyObject(this.legendOptions)&&(this._container.style.display="none"),this._redrawLegend()},_redrawLegend:function(){var c=this;this._container.innerHTML="";var d=-1!==this.options.position.indexOf("left"),f=d?"left":"right",g=this.options.language;a.each(this.legendOptions,function(d,h){var i=h.imageUrl,j=h.attribution,k=h.lastUpdated,l=h.updatesPerDay,m=h.epoch,n=h.longName,o=h.units;o=c._(o,g);var p=b.DomUtil.create("div","fcoo-legend-item",c._container);p.style.cssFloat=f;var q=b.DomUtil.create("span","",p),r=b.DomUtil.create("div","fcoo-legend-item-div",q),s=b.DomUtil.create("img","fcoo-legend-item-image",r);s.src=i;var t=b.DomUtil.create("div","fcoo-legend-item-text",q),u=b.DomUtil.create("p","fcoo-legend-item-text-p",t),v=b.DomUtil.create("i","fa-caret-square-o-down fa fcoo-legend-item-compress",u);if(v.innerHTML="&nbsp;&nbsp;",n!==e){var w=n.charAt(0).toUpperCase()+n.slice(1);w=c._(w,g),o!==e&&""!==o&&(w=w+" ["+o+"]");var x=b.DomUtil.create("span","",u);x.innerHTML=w}var y=b.DomUtil.create("div","fcoo-legend-item-text",p);if(j!==e){var z=c._("Source",g)+": "+j,A=b.DomUtil.create("p","fcoo-legend-item-text-p",y);A.innerHTML=z}var B=function(a,b,c){var d,e="DD-MMM-YY HH:mm",f="da"==b?"lokal":"local";return d="local"==c?a.local().format(e)+"&nbsp;("+f+")":a.utc().format(e)+"&nbsp;(UTC)"};if(k!==e){var C=c._("Updated",g)+": "+B(k,g,c.options.timezone),D=b.DomUtil.create("p","fcoo-legend-item-text-p",y);D.innerHTML=C}if(m!==e){var E=c._("Analysis",g)+": "+B(m,g,c.options.timezone),F=b.DomUtil.create("p","fcoo-legend-item-text-p",y);F.innerHTML=E}if(k!==e&&l!==e){var G=moment(k).add(24/l,"hours"),H=c._("Expected update",g)+": "+B(G,g,c.options.timezone),I=b.DomUtil.create("p","fcoo-legend-item-text-p",y);I.innerHTML=H}b.DomUtil.create("br","",c._container),a(q).click(function(){a(this).find(".fcoo-legend-item-compress").toggleClass("fa-caret-square-o-right"),a(y).slideToggle()}),c.options.collapsedInfo&&a(v).click()})},_:function(a,b){var c={en:{"Significant wave height of combined wind waves and swell":"Wave height",degC:"&deg;C","Temp.":"Temperature"},da:{Source:"Kilde",Updated:"Opdateret",Analysis:"Analyse","Expected update":"Forventes opdateret","Wave height":"Bølgehøjde","Mean wave period":"Bølgeperiode","Vel.":"Strømhastighed","Current speed":"Strømhastighed",Current:"Strømhastighed",Elevation:"Vandstand",Temperature:"Temperatur","Temp.":"Temperatur",Salinity:"Salinitet","Sea surface temperature":"Temperatur","Sea surface salinity":"Salinitet","Wind speed":"Vindhastighed",Wind:"Vindhastighed","Air temperature (2m)":"2 meter temperatur","Sea ice concentration":"Haviskoncentration","Sea ice thickness":"Havistykkelse","Sea ice drift speed":"Havisdrifthastighed",Visibility:"Sigtbarhed","Total precipitation flux":"Nedbør","2 metre temperature":"2 meter temperatur","Total cloud cover":"Skydække","Significant wave height of combined wind waves and swell":"Bølgehøjde","mm/hour":"mm/time",degC:"&deg;C",knots:"knob",fraction:"fraktion",meters:"meter"}};return c[b]!==e&&c[b][a]!==e?c[b][a]:c.en!==e&&c.en[a]!==e?c.en[a]:a}})}(jQuery,L,this,document);